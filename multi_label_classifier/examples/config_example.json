{
  "experiment_name": "weather_chart_cnn_rnn_v1",
  "output_dir": "./outputs/weather_chart_experiment",
  "cache_dir": "./cache",
  "seed": 42,
  "device": "auto",
  "fp16": true,
  "use_wandb": false,
  "wandb_project": "weather_chart_classification",
  "wandb_entity": null,
  "wandb_tags": ["cnn-rnn", "multi-label", "weather-charts"],

  "model": {
    "cnn_backbone": "resnet50",
    "cnn_pretrained": true,
    "cnn_feature_dim": 2048,
    "cnn_dropout": 0.1,
    "joint_embedding_dim": 256,
    "rnn_type": "LSTM",
    "rnn_num_layers": 2,
    "rnn_hidden_dim": 384,
    "rnn_dropout": 0.2,
    "rnn_bidirectional": false,
    "num_labels": 20,
    "label_embedding_dim": 256,
    "max_sequence_length": 10,
    "bos_token_id": 0,
    "eos_token_id": 1,
    "pad_token_id": 2,
    "beam_width": 3,
    "beam_max_length": 10,
    "beam_early_stopping": true
  },

  "training": {
    "num_epochs": 50,
    "batch_size": 32,
    "gradient_accumulation_steps": 1,
    "max_grad_norm": 1.0,
    "warmup_epochs": 5,
    "freeze_cnn_during_warmup": true,
    "cnn_learning_rate": 1e-4,
    "rnn_learning_rate": 5e-4,
    "warmup_learning_rate": 2e-3,
    "optimizer": "AdamW",
    "weight_decay": 0.01,
    "adam_beta1": 0.9,
    "adam_beta2": 0.999,
    "adam_epsilon": 1e-8,
    "bce_loss_weight": 1.0,
    "sequence_loss_weight": 0.5,
    "coverage_loss_weight": 0.1,
    "teacher_forcing_start": 1.0,
    "teacher_forcing_end": 0.7,
    "teacher_forcing_decay": "linear",
    "use_focal_loss": true,
    "focal_alpha": 0.25,
    "focal_gamma": 2.0,
    "label_order_strategy": "frequency",
    "random_order_ratio": 0.2,
    "eval_steps": 500,
    "save_steps": 1000,
    "save_total_limit": 3,
    "metric_for_best_model": "eval_f1_macro",
    "greater_is_better": true,
    "early_stopping": true,
    "early_stopping_patience": 5,
    "early_stopping_threshold": 0.001,
    "use_data_augmentation": true,
    "augmentation_prob": 0.5,
    "logging_steps": 100,
    "log_level": "INFO"
  },

  "data": {
    "train_data_path": "./dataset/train",
    "val_data_path": "./dataset/val", 
    "test_data_path": "./dataset/test",
    "label_mapping_path": "./dataset/label_mapping.json",
    "image_size": [224, 224],
    "image_mean": [0.485, 0.456, 0.406],
    "image_std": [0.229, 0.224, 0.225],
    "num_workers": 4,
    "pin_memory": true,
    "shuffle_train": true,
    "drop_last": true,
    "random_rotation": 10,
    "random_horizontal_flip": 0.5,
    "color_jitter_brightness": 0.1,
    "color_jitter_contrast": 0.1,
    "color_jitter_saturation": 0.1,
    "color_jitter_hue": 0.05,
    "min_label_frequency": 10,
    "max_labels_per_sample": 10
  }
}
